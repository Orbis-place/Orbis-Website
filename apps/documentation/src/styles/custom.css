@layer starlight, orbis;

@layer orbis {
  /* Orbis Dark Theme - Based on Catppuccin structure */
  :root {
    /* Accent colors - using Orbis cyan #109eb1 */
    --sl-color-accent-low: hsl(186, 83%, 18%);
    --sl-color-accent: hsl(186, 83%, 38%);
    --sl-color-accent-high: hsl(186, 83%, 58%);
    
    /* Grayscale - using Orbis teal palette */
    --sl-color-white: #c7f4fa;
    --sl-color-gray-1: #a8dfe8;
    --sl-color-gray-2: #7fc9d6;
    --sl-color-gray-3: #56b3c4;
    --sl-color-gray-4: #084b54;
    --sl-color-gray-5: #06363d;
    --sl-color-gray-6: #042b30;
    --sl-color-gray-7: #021a1d;
    --sl-color-black: #032125;

    /* Semantic colors */
    --sl-hue-orange: 23;
    --sl-color-orange-low: hsl(23, 32%, 25%);
    --sl-color-orange: hsl(23, 72%, 76%);
    --sl-color-orange-high: hsl(23, 92%, 76%);
    
    --sl-hue-green: 142;
    --sl-color-green-low: hsl(142, 14%, 26%);
    --sl-color-green: hsl(142, 71%, 45%);
    --sl-color-green-high: hsl(142, 71%, 55%);
    
    --sl-hue-blue: 186;
    --sl-color-blue-low: hsl(186, 32%, 26%);
    --sl-color-blue: hsl(186, 83%, 38%);
    --sl-color-blue-high: hsl(186, 83%, 58%);
    
    --sl-hue-purple: 267;
    --sl-color-purple-low: hsl(267, 33%, 26%);
    --sl-color-purple: hsl(267, 64%, 81%);
    --sl-color-purple-high: hsl(267, 84%, 81%);
    
    --sl-hue-red: 343;
    --sl-color-red-low: hsl(343, 26%, 25%);
    --sl-color-red: hsl(343, 61%, 75%);
    --sl-color-red-high: hsl(343, 81%, 75%);

    color-scheme: dark;
  }

  /* Align with style guide for main body copy -> `text` */
  :root {
    --sl-color-text: var(--sl-color-white);
  }

  /* Increase contrast of ToC in the right sidebar */
  .right-sidebar-panel a:not(:hover):not([aria-current="true"]) {
    color: var(--sl-color-gray-2);
  }

  /* Border colors for layout elements */
  header,
  .right-sidebar,
  .content-panel {
    border-color: var(--sl-color-hairline-light);
  }

  /* Search keyboard shortcuts styling */
  site-search kbd {
    background-color: var(--sl-color-gray-5);
  }

  /* Link card hover effect */
  .sl-link-card:hover {
    background-color: var(--sl-color-gray-6);
  }

  /* Code block background */
  .expressive-code pre {
    --code-background: var(--sl-color-gray-6);
  }

  /* Additional Orbis-specific refinements */
  
  /* Sidebar selected item - ensure readability */
  [aria-current='page'],
  [aria-current='page']:hover,
  [aria-current='page']:focus {
    background-color: var(--sl-color-accent) !important;
    color: var(--sl-color-black) !important;
    font-weight: 600;
  }

  /* Mobile menu button */
  .mobile-preferences,
  starlight-menu-button button {
    background-color: var(--sl-color-gray-5);
    border-color: var(--sl-color-gray-4);
  }

  /* Search dialog */
  .pagefind-ui__search-input {
    background-color: var(--sl-color-gray-5);
    border-color: var(--sl-color-gray-4);
    color: var(--sl-color-white);
  }

  .pagefind-ui__search-input:focus {
    border-color: var(--sl-color-accent);
    outline: none;
  }

  /* Inline code */
  :not(pre) > code {
    background-color: var(--sl-color-gray-5);
    color: var(--sl-color-accent);
    border: 1px solid var(--sl-color-gray-4);
  }

  /* Tables */
  table {
    border-color: var(--sl-color-gray-4);
  }

  th {
    background-color: var(--sl-color-gray-5);
    border-color: var(--sl-color-gray-4);
  }

  td {
    border-color: var(--sl-color-gray-4);
  }

  /* Blockquotes */
  blockquote {
    border-left-color: var(--sl-color-accent);
    background-color: var(--sl-color-gray-6);
  }

  /* Navigation links */
  .sidebar a:hover {
    background-color: var(--sl-color-gray-5);
  }

  /* Header */
  .header {
    background-color: var(--sl-color-black);
    border-bottom-color: var(--sl-color-gray-4);
  }

  /* Main content area */
  .main-frame {
    background-color: var(--sl-color-black);
  }

  /* Sidebar */
  .sidebar-pane {
    background-color: var(--sl-color-black);
    border-right-color: var(--sl-color-gray-4);
  }

  /* Badge styles */
  .sl-badge {
    border-radius: 0.375rem;
    font-weight: 500;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--sl-color-black);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--sl-color-gray-4);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--sl-color-accent);
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--sl-color-gray-4) var(--sl-color-black);
  }

  /* Breadcrumb navigation */
  .breadcrumbs a {
    color: var(--sl-color-gray-2);
  }

  .breadcrumbs a:hover {
    color: var(--sl-color-accent);
  }

  /* Pagination */
  .pagination-links a {
    border-color: var(--sl-color-gray-4);
    background-color: var(--sl-color-gray-6);
  }

  .pagination-links a:hover {
    background-color: var(--sl-color-gray-5);
    border-color: var(--sl-color-accent);
  }

  /* Table of contents */
  .right-sidebar-panel {
    border-left-color: var(--sl-color-gray-4);
  }

  starlight-toc a[aria-current="true"] {
    color: var(--sl-color-accent);
    font-weight: 600;
  }

  /* Focus visible styles for accessibility */
  :focus-visible {
    outline: 2px solid var(--sl-color-accent);
    outline-offset: 2px;
  }

  /* Hero section on homepage */
  .hero {
    background: linear-gradient(
      180deg,
      var(--sl-color-black) 0%,
      var(--sl-color-gray-6) 100%
    );
  }

  /* Card components */
  .card {
    background-color: var(--sl-color-gray-6);
    border: 1px solid var(--sl-color-gray-4);
  }

  .card:hover {
    border-color: var(--sl-color-accent);
  }

  /* Steps component */
  .sl-steps {
    border-left-color: var(--sl-color-gray-4);
  }

  /* Tabs */
  starlight-tabs {
    border-color: var(--sl-color-gray-4);
  }

  /* Edit link */
  .edit-page {
    color: var(--sl-color-gray-2);
  }

  .edit-page:hover {
    color: var(--sl-color-accent);
  }
}
